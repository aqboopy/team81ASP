<!-- Search Bar -->
<div class="flex justify-center my-8">
	<form action="/market/search" method="POST">
		<input
			type="text"
			placeholder="Search"
			name="search"
			class="border border-gray-300 p-2 rounded-l-md"
		/>
		<input type="submit" class="bg-blue-500 text-white p-2 rounded-r-md" value="Go!">
	</form>
	
</div>

<!-- Carousel -->
<div class="container mx-auto my-8">
	<h1 class="text-center text-3xl font-bold mb-6">Featured Products</h1>
	<div class="relative w-full overflow-hidden">
		<div
			id="carousel"
			class="flex transition-transform duration-700 ease-in-out"
		>
			<% products.forEach((product, index) => { %>
			<div class="w-1/2 flex-shrink-0 px-5">
				<img
					src="data:<%= product.image_type %>;base64,<%= product.image %>"
					alt="<%= product.name %>"
					class="w-full h-64 object-cover"
				/>
				<div
					class="bottom-0 bg-slate-800 bg-opacity-25 text-white text-center"
				>
					<h5 class="text-lg"><%= product.name %></h5>
				</div>
			</div>
			<% }) %>
		</div>
		<!-- Carousel controls -->
		<button
			id="prev"
			class="absolute left-0 top-1/2 transform -translate-y-1/2 px-4 py-2 bg-gray-800 text-white rounded-full"
		>
			&#10094;
		</button>
		<button
			id="next"
			class="absolute right-0 top-1/2 transform -translate-y-1/2 px-4 py-2 bg-gray-800 text-white rounded-full"
		>
			&#10095;
		</button>
	</div>
</div>

<!-- Auto-scroll script -->
<script>
	const carousel = document.getElementById("carousel");
	const prevButton = document.getElementById("prev");
	const nextButton = document.getElementById("next");

	let currentIndex = 0;
	const totalSlides = carousel.children.length / 2;

	function updateCarousel() {
		carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
	}

	nextButton.addEventListener("click", () => {
		currentIndex = (currentIndex + 1) % totalSlides;
		updateCarousel();
	});

	prevButton.addEventListener("click", () => {
		currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
		updateCarousel();
	});

	// Auto-scroll functionality
	setInterval(() => {
		currentIndex = (currentIndex + 1) % totalSlides;
		updateCarousel();
	}, 3000); // Change slides every 3 seconds
</script>

<!-- View Listings Button -->
<div class="text-center my-8">
	<a href="/market">
		<button class="bg-green-500 text-white py-2 px-4 rounded-full">
			View Listings >>
		</button>
	</a>
</div>

<!-- About Us Section -->
<section class="text-center my-12">
	<h2 class="text-2xl font-bold">About Us</h2>
	<!-- Added by nurleena -->
	<p class="mt-4 text-gray-600">
		Our platform was created to provide affordable, second-hand goods to
		individuals facing financial challenges. Inspired by successful
		community models like Carousel and Olio, as well as the personal
		experiences of one of our team members who ran a thrift shop, we aim to
		bring together a community of people dedicated to sharing, trading, and
		donating essential items. By offering items at lower prices or as
		donations, we are building a supportive space where those in need can
		access quality goods without financial strain.
	</p>
	<p class="mt-4 text-gray-600">
		At the heart of our platform is the belief that everyone deserves access
		to the resources they need. We ensure a secure and trusted environment
		through careful verification of buyers, sellers, and donors. We also
		offer educational resources on budgeting and financial management,
		empowering low-income households to achieve greater stability. Through
		community support and collaboration with local businesses, our goal is
		to uplift those facing financial difficulties, creating a meaningful
		impact in their lives.
	</p>
</section>

<!-- Our Customers Section -->
<section class="text-center my-12">
	<h2 class="text-2xl font-bold">Our Customers</h2>
	<div class="flex justify-around mt-8">
		<div class="w-1/2">
			<h3 class="text-xl font-semibold">Average Household Income</h3>
			<div class="mt-4 flex items-center justify-center">
				<!-- Image by Rachel Chin -->
				<img
					src="/img/HouseholdIncomeChart.png"
					alt="Average Household Income Chart"
					class="w-full h-auto mt-8"
				/>
			</div>
		</div>
		<div class="w-1/2">
			<!-- Added by Nurleena -->
			<h3 class="text-xl font-semibold">Reviews</h3>
			<div class="mt-4">
				<div class="p-4 bg-gray-100 rounded mb-4">
					<p class="font-bold">Buyer: Sarah J.</p>
					<p class="text-gray-600">Seller: TechReUse</p>
					<p class="mt-2 text-gray-600">
						<i
							>"I bought a second-hand Bluetooth speaker from
							TechReUse, and I couldn’t be happier with the
							purchase! The sound quality is amazing, and it was
							in almost perfect condition. I was a little worried
							about buying used electronics, but the speaker
							arrived well-packaged and works flawlessly. It’s
							clear that the seller takes care of their items, and
							the price was unbeatable. I’ve been using it daily
							for weeks, and it still performs like new. Highly
							recommend TechReUse for anyone looking for quality
							second-hand tech!"</i
						>
					</p>
				</div>
				<div class="p-4 bg-gray-100 rounded mb-4">
					<p class="font-bold">Buyer: Michael P.</p>
					<p class="text-gray-600">Seller: ThriftStyle Closet</p>
					<p class="mt-2 text-gray-600">
						<i
							>"I purchased a vintage denim jacket from
							ThriftStyle Closet, and it exceeded my expectations.
							The jacket fits perfectly, and I love the unique
							worn-in look—it’s exactly what I was hoping for! The
							description on the listing was spot on, and the
							seller was quick to respond to my questions. I could
							tell the jacket was well-cared for, and it arrived
							clean and ready to wear. Honestly, it feels like a
							hidden gem, and I’ll definitely be checking out more
							of ThriftStyle Closet’s listings in the future!"</i
						>
					</p>
				</div>
				<div class="p-4 bg-gray-100 rounded mb-4">
					<p class="font-bold">Buyer: Jane D.</p>
					<p class="text-gray-600">Seller: Beauty21</p>
					<p class="mt-2 text-gray-600">
						<i>"Prompt, fast, professional service. Product was a bit smaller than I thought but it is still good."</i>
					</p>
				</div>
				<div class="p-4 bg-gray-100 rounded mb-4">
					<p class="font-bold">Buyer: John C.</p>
					<p class="text-gray-600">Seller: Shop82</p>
					<p class="mt-2 text-gray-600">
						<i>"Decent clothes, cheap price, what more could I want?"</i>
					</p>
				</div>
			</div>
		</div>
	</div>
</section>

